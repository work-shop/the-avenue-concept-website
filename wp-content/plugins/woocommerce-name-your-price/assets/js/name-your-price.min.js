/*! woocommerce-name-your-price 2.9.6 */

jQuery(document).ready(function(y){function h(o,e,i){void 0===e&&(e=""),void 0===i&&(i=!1);var a=i?woocommerce_nyp_params.currency_format:"%v";return accounting.formatMoney(o,{symbol:e,decimal:woocommerce_nyp_params.currency_format_decimal_sep,thousand:woocommerce_nyp_params.currency_format_thousand_sep,precision:woocommerce_nyp_params.currency_format_num_decimals,format:a}).trim()}function g(o){return Math.abs(parseFloat(accounting.unformat(o,woocommerce_nyp_params.currency_format_decimal_sep)))}y.fn.woocommerce_nyp_update=function(){if(y(this).on("woocommerce-nyp-update",function(){var o=y(this),e=o.find(".nyp"),i=o.find(".nyp-input"),a=o.find(":submit"),r=(o.find(".ajax_add_to_cart"),i.val()),n=o.find(".woocommerce-nyp-message");n.length||y('<div class="woocommerce-nyp-message woocommerce-error"></div>').hide().prependTo(e);var t=e.data("hide-minimum")?e.data("hide-minimum-error"):e.data("minimum-error"),m="%%MINIMUM%%",c=!1,d="",p=g(r),s=parseFloat(e.data("min-price")),u=parseFloat(e.data("max-price")),_=parseFloat(e.data("annual-minimum")),l=o.find(".nyp-period"),f=l.val();0<_?(form_annulualized_price=p*woocommerce_nyp_params.annual_price_factors[f],form_annulualized_price<_&&(d=h(c=_/woocommerce_nyp_params.annual_price_factors[f],woocommerce_nyp_params.currency_format_symbol,!0)+" / "+l.find('option[value="'+f+'"]').text())):p<s?d=h(c=s,woocommerce_nyp_params.currency_format_symbol,!0):u<p&&(c=u,t=e.data("maximum-error"),m="%%MAXIMUM%%",d=h(u,woocommerce_nyp_params.currency_format_symbol,!0)),""!=y.trim(r)&&i.val(h(p)),a.data(i.attr("name"),h(p)),c?(a.prop("disabled",!0).addClass("disabled"),t=t.replace(m,d),n.html(t).slideDown(function(){i.focus()})):(a.prop("disabled",!1).removeClass("disabled"),n.slideUp(),y(this).find("#product-addons-total").data("price",p),o.trigger("woocommerce-product-addons-update"),e.data("price",p),o.trigger("woocommerce-nyp-updated-item"),y("body").trigger("woocommerce-nyp-updated"))}),y(this).on("change",".nyp-input, .nyp-period",function(){y(this).closest(".cart, .nyp-product").trigger("woocommerce-nyp-update")}),y(this).find(".nyp-input").trigger("change"),y(this).hasClass("variations_form")){var o=y(this),t=y(this).find("button.single_add_to_cart_button"),m=y(this).find(".nyp"),c=m.find(".nyp-input"),d=m.find(".minimum-price"),p=m.find(".subscription-details"),s=o.find(".woocommerce-nyp-message"),u=t.html();m.hide(),d.hide(),o.on("found_variation",function(o,e){if(t.attr("disabled",!1),s.slideUp(),null!=typeof e.is_nyp&&1==e.is_nyp){t.html(e.add_to_cart_text);var i=void 0!==e.display_price?e.display_price:"",a=void 0!==e.minimum_price?e.minimum_price:"",r=void 0!==e.maximum_price?e.maximum_price:"";""!=y.trim(i)?c.val(h(i)):c.val(""),p.length&&e.subscription_terms&&p.html(e.subscription_terms),e.minimum_price_html?d.html(e.minimum_price_html).show():d.hide(),m.data("min-price",a).slideDown(),m.data("max-price",r),m.data("hide-minimum",e.hide_minimum);var n=g(c.val());y(this).find("#product-addons-total").data("price",n),y(this).trigger("woocommerce-product-addons-update")}else t.html(u),m.slideUp()}).on("reset_image",function(o){t.html(u),t.attr("disabled",!1),m.slideUp(),s.hide()}).on("click",".reset_variations",function(o){t.html(u),t.attr("disabled",!1),m.slideUp(),s.hide()}),y(this).find(".variations select, .variations input[type=radio]").trigger("change")}},y("body").on("quick-view-displayed",function(){y("body").find(".cart:not(.cart_group)").each(function(){y(this).woocommerce_nyp_update()})}),y("body .component").on("wc-composite-component-loaded",function(){y(this).find(".cart:not(.cart_group)").each(function(){y(this).woocommerce_nyp_update()})}),y("body").find(".cart:not(.cart_group, .grouped_form)").each(function(){y(this).woocommerce_nyp_update()}),y("body .grouped_form").find(".nyp-product").each(function(){y(this).woocommerce_nyp_update()})});