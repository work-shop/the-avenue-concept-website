/*! woocommerce-name-your-price 2.9.6 */

!function(r){r.extend({moveNYPmetaFields:function(){r(".options_group.show_if_nyp").insertBefore(".options_group.pricing")},addClasstoRegularPrice:function(){r(".options_group.pricing").addClass("hide_if_nyp")},toggleRegularPriceClass:function(i){i?r(".options_group.pricing").removeClass("show_if_simple"):r(".options_group.pricing").addClass("show_if_simple")},showHideNYPelements:function(){var i=r("select#product-type").val(),e=r("#_nyp").prop("checked");switch(r.toggleRegularPriceClass(e),i){case"subscription":r.showHideNYPprices(e,!0),r.enableDisableSubscriptionPrice(e);var a=r("#_variable_billing").prop("checked");r.showHideNYPvariablePeriods(a),r.enableDisableSubscriptionPeriod(a);break;case"simple":case"bundle":case"bto":case"composite":case"deposit":case"mix-and-match":r.showHideNYPprices(e,!0),r.showHideNYPvariablePeriods(!1);break;case"variable":r.showHideNYPprices(!1),r.moveNYPvariationFields(),r.showHideNYPmetaforVariableProducts();break;case"variable-subscription":r.showHideNYPprices(!1),r.moveNYPvariationFields(),r.showHideNYPmetaforVariableSubscriptions();break;default:r.showHideNYPprices(!1)}},showHideNYPprices:function(i,e){e=void 0!==e&&e,i?(r(".show_if_nyp").show(),r(".hide_if_nyp").hide()):(r(".show_if_nyp").hide(),e&&r(".hide_if_nyp").show())},enableDisableSubscriptionPrice:function(i){i?r("#_subscription_price").prop("disabled",!0).css("background","#CCC"):r("#_subscription_price").prop("disabled",!1).css("background","#FFF")},showHideNYPvariablePeriods:function(i){$variable_periods=r("._suggested_billing_period_field, ._minimum_billing_period_field"),i?$variable_periods.show():$variable_periods.hide()},enableDisableSubscriptionPeriod:function(i){$subscription_period=r("#_subscription_period_interval, #_subscription_period"),i?$subscription_period.prop("disabled",!0).css("background","#CCC"):$subscription_period.prop("disabled",!1).css("background","#FFF")},addClasstoVariablePrice:function(){r(".woocommerce_variation .variable_pricing").addClass("hide_if_variable_nyp")},moveNYPvariationFields:function(){r("#variable_product_options .variable_nyp_pricing").not(".nyp_moved").each(function(){r(this).insertAfter(r(this).siblings(".variable_pricing")).addClass("nyp_moved")})},showHideNYPvariableMeta:function(){"variable-subscription"==r("#product-type").val()?r.showHideNYPmetaforVariableSubscriptions():r.showHideNYPmetaforVariableProducts()},showHideNYPmetaforVariableProducts:function(){r(".variation_is_nyp").each(function(i){var e=r(this).closest(".woocommerce_variation").find(".variable_pricing"),a=r(this).closest(".woocommerce_variation").find(".variable_nyp_pricing");r(this).prop("checked")?(a.show(),e.hide()):(a.hide(),e.removeAttr("style"))})},showHideNYPmetaforVariableSubscriptions:function(){r(".variation_is_nyp").each(function(i){var e=r(this).closest(".woocommerce_variation").find(".variable_pricing"),a=r(this).closest(".woocommerce_variation").find(".wc_input_subscription_price"),o=r(this).closest(".woocommerce_variation").find(".variable_nyp_pricing");r(this).prop("checked")?(o.show(),a.prop("disabled",!0).css("background","#CCC"),e.children().not(".show_if_variable-subscription").hide()):(o.hide(),a.prop("disabled",!1).css("background","#FFF"),e.children().not(".hide_if_variable-subscription").show())})}}),0<r(".options_group.pricing").length&&(r.moveNYPmetaFields(),r.addClasstoRegularPrice(),r.showHideNYPelements()),r("body").on("woocommerce-product-type-change",function(){r.showHideNYPelements()}),r("input#_nyp").on("change",function(){r.showHideNYPelements()}),r("#_variable_billing").on("change",function(){r.showHideNYPvariablePeriods(this.checked),r.enableDisableSubscriptionPeriod(this.checked)}),r("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){r.addClasstoVariablePrice(),r.moveNYPvariationFields(),r.showHideNYPvariableMeta()}),r("#variable_product_options").on("woocommerce_variations_added",function(){r.addClasstoVariablePrice(),r.moveNYPvariationFields(),r.showHideNYPvariableMeta()}),r("#variable_product_options").on("change",".variation_is_nyp",function(i){r.showHideNYPvariableMeta()}),r("select.variation_actions").on("woocommerce_variable_bulk_nyp_toggle",function(i){r.showHideNYPvariableMeta()}),r("select.variation_actions").on("variation_suggested_price_ajax_data variation_suggested_price_increase_ajax_data variation_suggested_price_decrease_ajax_data variation_min_price_ajax_data variation_min_price_increase_ajax_data variation_min_price_decrease_ajax_data variation_maximum_price_ajax_data variation_maximum_price_increase_ajax_data variation_maximum_price_decrease_ajax_data",function(i,e){switch(r(this).val()){case"variation_suggested_price":case"variation_min_price":case"variation_maximum_price":value=window.prompt(woocommerce_nyp_metabox.enter_value),value=accounting.unformat(value,woocommerce_admin.mon_decimal_point);break;case"variation_suggested_price_increase":case"variation_suggested_price_decrease":case"variation_min_price_increase":case"variation_min_price_decrease":case"variation_maximum_price_increase":case"variation_maximum_price_decrease":value=window.prompt(woocommerce_nyp_metabox.price_adjust),e.percentage=0<=value.indexOf("%")?"yes":"no",value=accounting.unformat(value,woocommerce_admin.mon_decimal_point)}return null!=value&&(e.value=value),e})}(jQuery);